## Next.js runtime env
# Copy to `.env.local` and fill in.

# Supabase (public; safe to expose to the browser)
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=

# Used by Supabase auth email redirects
SUPABASE_EMAIL_REDIRECT_URL=
NEXT_PUBLIC_SITE_URL=

# Server-only: required for cron/background jobs (never expose to browser)
SUPABASE_SERVICE_ROLE_KEY=

# Optional: protect /api/cron/* routes
CRON_SECRET=

# Optional: strict hourly moment posting (one post per UTC hour per conversation).
# Default behavior in code is true; set false to use probabilistic mode below.
MOMENT_POST_STRICT_HOURLY=true
# Optional: enforce hourly MOMENT_POST checks even when conversation is not idle.
# Default true; set false to make moment posting follow idle-gated schedule flow.
MOMENT_POST_HARD_CADENCE=true
# Optional: chance to post a "moment" on each schedule tick (0..1), only used when
# MOMENT_POST_STRICT_HOURLY=false.
MOMENT_POST_PROB=1.0
# Optional: minimum minutes between MOMENT_POST posts (used when strict hourly is false)
MOMENT_POST_MINUTES=60

# Optional: cron conversation bootstrap controls (for unlocked roles with no conversations)
CONVERSATION_BOOTSTRAP_SCAN_LIMIT=1200
CONVERSATION_BOOTSTRAP_CREATE_LIMIT=240

# Optional: patch cron processing controls
PATCH_CRON_BATCH=10
# Re-claim `processing` patch jobs older than this many minutes (for crash recovery)
PATCH_PROCESSING_STALE_MIN=10

# MiniMax (server-side only; do not expose to the browser)
MINIMAX_API_KEY=
MINIMAX_BASE_URL=https://api.minimax.io

# Optional: enables PatchScribe state patching in `app/api/chat/route.ts`
# If unset, chat still works but `patchOk` will be false and `patchError` will mention the missing var.
MINIMAX_PATCH_MODEL=MiniMax-M2.5
